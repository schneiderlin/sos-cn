:page/title 种族数据可视化 - 全面对比与分析
:blog-post/tags [:songs-of-syx :visualization :race :data-analysis]
:blog-post/author {:person/id :jan}
:page/body

## 概述

本文将通过数据可视化方式全面展示《Songs of Syx》中所有种族的属性、加成、偏好和关系。不同于纯文本的种族系统文档，本文使用表格、图表和交互式可视化帮助玩家直观理解各种族的特点和差异。

## 可视化目标

### 核心数据维度

1. **物理属性对比** - 体型、寿命、速度、健康、耐寒/耐热
2. **属性加成分析** - 各种族的属性加成范围和方向
3. **经济价值评估** - 奴隶价格、突袭价值、性价比
4. **人口动态分析** - 增长率、成年时间、人口上限
5. **食物偏好矩阵** - 种族 x 食物偏好的热力图
6. **种族关系网络** - 种族间的亲疏关系
7. **房间效率对比** - 各种族在不同房间的工作效率
8. **战斗属性分析** - 攻击、防御、士气等战斗相关属性
9. **宗教偏好分析** - 对不同教派的亲和度
10. **环境适配评估** - 气候和地形偏好

## 文章结构

### 第一部分：种族概览

#### 种族基本信息表

<!-- VISUALIZATION: basic-info type="grouped-bar" data="race-basic-info" -->

| 种族 | 可玩 | 身高 | 奴隶价格 | 成年天数 |
|------|------|---------|----------|----------|
| 阿戈诺什人 | 否 | 12.0 | 2500 | 0 |
| 坎特巨人 | 否 | 12.0 | 4000 | 0 |
| 克里托尼亚人 | 是 | 5.0 | 100 | 48 |
| 邓多里安人 | 是 | 4.0 | 180 | 0 |
| 贾尔蒂米人 | 是 | 6.0 | 40 | 16 |
| 人类 | 是 | 6.0 | 120 | 80 |
| 阿美伟亚人 | 是 | 6.0 | 200 | 80 |
| 蒂拉皮人 | 是 | 7.0 | 180 | 64 |

<!-- END-VISUALIZATION -->

#### 种族物理属性对比表

> 注意：此表显示的是属性**修正值**（与基准的差异），而非绝对值。详见下方"核心属性加成范围表"的完整说明。

<!-- VISUALIZATION: physical-attributes type="semantic-heatmap" data="race-physical-attributes" -->

| 种族 | 体重 | 速度 | 健康 | 加速 | 耐寒 | 耐热 |
|------|------|------|------|------|------|------|
| 阿戈诺什人 | +160 | 2x | 3x | 0.75x | 0 | +0.5 |
| 坎特巨人 | 5x | 1.1x | 10x | 0.75x | +0.7 | -0.1 |
| 克里托尼亚人 | 0.9x | - | - | - | -0.25 | 0 |
| 邓多里安人 | 1.1x | - | - | - | +0.25 | -0.25 |
| 贾尔蒂米人 | 0.7x | 1.4x | - | - | -0.25 | +0.15 |
| 人类 | - | - | - | - | -0.15 | -0.15 |
| 阿美伟亚人 | 1.25x | - | - | - | -0.4 | +0.3 |
| 蒂拉皮人 | 0.7x | 1.4x | - | - | -0.1 | -0.1 |

<!-- END-VISUALIZATION -->

#### 种族人口动态表

<!-- VISUALIZATION: population-dynamics type="grouped-bar" data="race-population-dynamics" -->

| 种族 | 增长率 | 最大人口 | 移民率 | 气候偏好 |
|------|--------|----------|--------|----------|
| 阿戈诺什人 | 0.0001 | 1.0 | 0.0 | 寒冷:0.0, 温和:0.0, 炎热:0.0 |
| 坎特巨人 | 0.0001 | 1.0 | 0.0 | 寒冷:0.0, 温和:0.0, 炎热:0.0 |
| 克里托尼亚人 | 0.1 | 0.8 | 1.0 | 寒冷:0.2, 温和:1.0, 炎热:1.0 |
| 邓多里安人 | 0.02 | 0.6 | 25.0 | 寒冷:1.0, 温和:0.8, 炎热:0.1 |
| 贾尔蒂米人 | 0.2 | 1.0 | 0.4 | 寒冷:0.2, 温和:0.8, 炎热:1.0 |
| 人类 | 0.075 | 0.9 | 1.5 | 寒冷:0.8, 温和:1.0, 炎热:0.8 |
| 阿美伟亚人 | 0.05 | 0.65 | 1.0 | 寒冷:0.25, 温和:0.5, 炎热:1.0 |
| 蒂拉皮人 | 0.03 | 0.55 | 1.0 | 寒冷:0.8, 温和:1.0, 炎热:0.8 |

<!-- END-VISUALIZATION -->


---

### 第二部分：属性加成

#### 核心属性加成范围表

<!-- VISUALIZATION: core-attributes type="semantic-heatmap" data="race-core-attributes" -->

| 种族 | 体重 | 健康 | 速度 | 加速 | 寿命 | 饥饿 | 耐寒 | 耐热 |
|------|------|------|------|------|------|------|------|------|
| 阿戈诺什人 | +160 | 3x | 2x | 0.75x | 5x | 2x | 0 | +0.5 |
| 坎特巨人 | 5x | 10x | 1.1x | 0.75x | 10x | 0.1x | +0.7 | -0.1 |
| 克里托尼亚人 | 0.9x | - | - | - | 0.75x | - | -0.25 | 0 |
| 邓多里安人 | 1.1x | - | - | - | 1.8x | - | +0.25 | -0.25 |
| 贾尔蒂米人 | 0.7x | - | 1.4x | - | 0.5x | - | -0.25 | +0.15 |
| 人类 | - | - | - | - | 0.8x | - | -0.15 | -0.15 |
| 阿美伟亚人 | 1.25x | - | - | - | 1.5x | 0.75x | -0.4 | +0.3 |
| 蒂拉皮人 | 0.7x | - | 1.4x | - | 1.4x | 0.8x | -0.1 | -0.1 |

<!-- END-VISUALIZATION -->

**表格说明**：
- **乘法属性**（如 `3x`）：基于基准值 1.0 的倍率。`3x` = 3倍，`0.75x` = 75%
- **加法属性**（如 `+160`）：在基准值 0 上的加减。`+0.5` = 增加0.5，`-0.25` = 减少0.25
- **`-`**：该种族无此项加成，使用默认值
- **属性好坏判断**：
  - 🟢 有利：健康↑、速度↑、寿命↑、耐寒↑、耐热↑
  - 🔴 不利：加速↓（数值越小越慢）、饥饿↑（数值越大吃越多）
  - ⚪ 中性：体重（大=强壮但笨重）

#### 抗性属性加成表

| 种族 | 耐寒 | 耐热 | 打击力量 | 打击承受 | 穿刺伤害 | 穿刺护甲 |
|------|------|------|----------|----------|----------|----------|

#### 行为属性加成表

| 种族 | 士气 | 守法 | 服从度 | 理智 | 虔诚 |
|------|------|------|--------|------|------|

**[TODO: 考虑使用 JS 可视化库]**
属性加成可以用分组柱状图展示，横轴为种族，纵轴为加成倍率，用不同颜色区分不同属性类型。

---

### 第三部分：房间效率矩阵（热力图）

#### 种族 x 房间效率加成表

| 种族 | 人类育儿所 | 伐木场 | 冶金厂 | 纺织厂 | 造纸工坊 | ... |
|------|------------|--------|--------|--------|----------|-----|
| 阿戈诺什 | 0.1x | 0.1x | 0.1x | 0.1x | 0.1x | ... |
| 克里托尼亚 | ... | ... | ... | ... | ... | ... |

**[TODO: 考虑使用 JS 可视化库]**
这是一个典型的热力图场景，建议使用颜色深浅表示效率倍率，红色表示低效，绿色表示高效。

---

### 第四部分：食物偏好矩阵（热力图）

#### 种族 x 食物偏好表

| 种族 | 肉类 | 鱼类 | 蛋类 | ... |
|------|------|------|------|-----|
| 阿戈诺什 | ✓ | ✓ | ✓ | ... |
| 克里托尼亚 | ... | ... | ... | ... |

#### 种族 x 饮品偏好表

| 种族 | 啤酒 | 葡萄酒 | ... |
|------|------|--------|-----|
| 阿戈诺什 | ✓ | ✓ | ... |
| 克里托尼亚 | ... | ... | ... |

---

### 第五部分：种族关系网络（矩阵 + 图）

#### 种族关系矩阵

| 种族 | 阿戈诺什 | 克里托尼亚 | 多多利亚 | 贾尔蒂米 | 人类 | 阿美伟亚 | 蒂拉皮 | 坎托 |
|------|----------|------------|----------|----------|------|----------|--------|------|
| 阿戈诺什 | 1.0 | 1.0 | 0.01 | 1.0 | 1.0 | 1.0 | 0.01 | 0.01 |
| 克里托尼亚 | 1.0 | 1.0 | ... | ... | ... | ... | ... | ... |

#### 最厌恶种族

| 种族 | 最厌恶种族 | 关系值 |
|------|------------|--------|
| 阿戈诺什 | 坎托 | 0.01 |

**[TODO: 考虑使用 JS 可视化库]**
种族关系适合用网络图（Force-directed graph）可视化，节点为种族，边的粗细和颜色表示关系强度。

---

### 第六部分：环境适配分析

#### 气候偏好表

| 种族 | 寒冷 | 温和 | 炎热 |
|------|------|------|------|
| 阿戈诺什 | 0.0 | 0.0 | 0.0 |
| ... | ... | ... | ... |

#### 地形偏好表

| 种族 | 海洋 | 湿地 | 山地 | 森林 | 平原 |
|------|------|------|------|------|------|
| 阿戈诺什 | 0.0 | 0.0 | 0.0 | 0.0 | 0.0 |
| ... | ... | ... | ... | ... | ... |

---

### 第七部分：战斗属性对比

#### 战斗属性表

| 种族 | 打击力量 | 打击承受 | 穿刺伤害 | 穿刺护甲 | 弓箭技能 | 士气 |
|------|----------|----------|----------|----------|----------|------|
| 阿戈诺什 | +240 | +120 | +1 | +2 | 0x | 3x |
| ... | ... | ... | ... | ... | ... | ... |

**[TODO: 考虑使用 JS 可视化库]**
战斗属性可以用平行坐标图展示，横轴为属性类型，纵轴为数值，每个种族为一条线。

---

### 第八部分：宗教偏好分析

#### 宗教亲和度表

| 种族 | 克拉托教派 | 史玛洛尔教派 | 阿图利教派 | 阿明农教派 |
|------|------------|--------------|------------|------------|
| 阿戈诺什 | -1 | +5 | -1 | -1 |
| ... | ... | ... | ... | ... |

---

### 第九部分：种族深度分析

#### 各种族详细画像

**阿戈诺什人**
- 核心优势：超高健康、长寿命、极高士气
- 核心劣势：几乎所有房间效率极低（0.1x）、弓箭技能为0
- 适合定位：战斗部队、守卫、军事建筑工人
- 不适合定位：生产、制造、研究

**克里托尼亚人**
- （待填充）

**多多利亚人**
- （待填充）

...（依次分析所有种族）

---

### 第十部分：种族组合建议

#### 最佳种族组合

| 组合场景 | 推荐种族 | 理由 |
|----------|----------|------|
| 军事强国 | 阿戈诺什 | 高战斗属性 |
| 经济发展 | ... | ... |
| 科技研究 | ... | ... |

#### 避免的种族组合

| 组合 | 风险 | 缓解措施 |
|------|------|----------|
| 阿戈诺什 + 坎托 | 极端对立 | 分区管理 |

---

## 数据处理说明

### 数据来源

- 数据文件：`sos-mod/output/wiki/data/races.edn`
- 提取时间：2026-01-17
- 总种族数：8个（6个可玩，2个不可玩）

### 数据转换规则

#### 数值加成类型
- `is-mul=true`：**乘法修正**，显示为 `Nx`
  - 基准值：`1.0`
  - 示例：健康 `from: 1.0, to: 3.0` → 显示 `3x`（生命值变为3倍）
  - 示例：加速 `from: 1.0, to: 0.75` → 显示 `0.75x`（加速能力降为75%）
  
- `is-mul=false`：**加法修正**，显示为 `+N` 或 `-N`
  - 基准值：`0`
  - 示例：体重 `from: 0, to: 160` → 显示 `+160`（增加160单位体重）
  - 示例：耐寒 `from: 0, to: -0.25` → 显示 `-0.25`（耐寒降低0.25）

#### 可视化颜色编码
- 🟢 **绿色**：对玩家有利（健康↑、速度↑、寿命↑、饥饿↓、耐寒↑、耐热↑）
- 🔴 **红色**：对玩家不利（加速↓、饥饿↑、耐寒↓、耐热↓）
- 🟠 **橙色**：中性属性（如体重，大=强壮但笨重）
- ⚪ **灰色**：无修改（使用种族默认值）

#### 特殊说明
- 阿戈诺什人的体重使用**加法** `+160`（绝对值增加），其他种族使用**乘法** `Nx`（倍率）
- 这是因为阿戈诺什人体型异常巨大，游戏使用不同的计算方式

#### 关系值
- 1.0：友好
- 0.01：敌对
- 介于之间：中性到微敌对

#### 房间效率
- 1.0：正常
- >1.0：加成
- <1.0：惩罚
- 0.0：完全无法使用

---

## 可视化技术方案

### 当前方案（表格）

使用 Markdown 表格展示：
- ✅ 简单直接，无需额外依赖
- ✅ 所有 Markdown 渲染器支持
- ❌ 无法交互
- ❌ 大量数据难以阅读
- ❌ 无法展示复杂关系

### 未来方案（JS 可视化库）

**推荐库：Chart.js / D3.js**

#### 适用场景

1. **雷达图** - 多维属性对比（物理、战斗、经济、人口）
2. **热力图** - 种族 x 房间效率、种族 x 食物偏好
3. **网络图** - 种族关系网络
4. **平行坐标图** - 战斗属性对比
5. **分组柱状图** - 属性加成对比
6. **散点图** - 经济价值 vs 人口增长分析

#### 集成方案

```html
<!-- 文章底部添加可视化脚本 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div id="race-radar-chart"></div>
<script>
// 从 EDN 数据渲染图表
</script>
```

**[TODO: 实现方案]**
1. 评估 Chart.js 与 D3.js 的适用性
2. 设计数据转换层（EDN → JSON）
3. 实现图表组件
4. 添加交互功能（筛选、排序、详情查看）

---

## 使用指南

### 如何使用本文档

1. **新手玩家**：查看第一部分了解种族概览，第九部分了解各种族定位
2. **策略规划**：参考第三、四、五部分选择合适的种族组合
3. **战斗配置**：参考第七部分配置军事种族
4. **经济发展**：参考第二、三部分优化生产效率
5. **深入研究**：参考所有可视化数据，利用交互式功能自由探索

### 数据解读技巧

#### 属性加成
- `is-mul=true`（乘法）：影响相对更大，如健康 3x 意味着 3 倍生命值
- `is-mul=false`（加法）：绝对数值加成，如打击力量 +240

#### 房间效率
- 0.1x 表示该种族在这个房间的效率仅为正常的 10%
- 1.0x 表示正常效率
- 2.0x 表示双倍效率

#### 种族关系
- 1.0：默认友好
- 0.01：极端对立，可能导致冲突
- 避免将对立种族放在同一区域

---

## 附录

### 种族键对照表

| 中文名 | 英文键 |
|--------|--------|
| 阿戈诺什 | ARGONOSH |
| 克里托尼亚 | CRETONIAN |
| 多多利亚 | DONDORIAN |
| 贾尔蒂米 | GARTHIMI |
| 人类 | HUMAN |
| 阿美伟亚 | Q_AMEVIA |
| 蒂拉皮 | TILAPI |
| 坎托 | CANTOR |

### 属性键对照表

| 中文名 | 英文键 | 类型 |
|--------|--------|------|
| 体重 | PHYSICS_MASS | 加法 |
| 健康 | PHYSICS_HEALTH | 乘法 |
| 速度 | PHYSICS_SPEED | 乘法 |
| 加速能力 | PHYSICS_ACCELERATION | 乘法 |
| 寿命 | PHYSICS_DEATH_AGE | 乘法 |
| 饥饿 | RATES_HUNGER | 乘法 |
| ... | ... | ... |

---

## 相关文章

- [种族系统 - 物理属性与人口管理](/blog-posts/race-system/)
- [人口与小人查询](/blog-posts/humanoid-query/)
- [房屋与房间系统](/blog-posts/building-room/)
- [资源系统](/blog-posts/resource-system/)

## 更新日志

- 2026-01-18: 初始大纲，规划 10 个可视化维度
